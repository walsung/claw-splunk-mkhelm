# ── Shared configuration ──────────────────────────────────────
MK="microk8s"                          # MicroK8s binary
HELM="microk8s helm"                   # Helm via MicroK8s
KUBECTL="microk8s kubectl"             # kubectl via MicroK8s
SPLUNK_NAMESPACE="splunk"
SPLUNK_RELEASE="splunk-enterprise"
SPLUNK_CHART="splunk/splunk-enterprise"
SPLUNK_VERSION="2.4.0"                 # pin version for idempotency
SPLUNK_WEB_PORT="8000"
SPLUNK_HEC_PORT="8088"
SPLUNK_MGMT_PORT="8089"

# ClusterIP is used instead of port-forward for reliability
# Port-forward is only needed for browser access to the UI
STATE_DIR="$HOME/.openclaw/skills/splunk-k8s/.state"
LOG_FILE="$HOME/.openclaw/skills/splunk-k8s/setup.log"

# Helper to ensure PATH has microk8s
ensure_path() {
    if ! command -v microk8s &>/dev/null; then
        if [ -d "/snap/bin" ]; then
            export PATH="$PATH:/snap/bin"
        fi
    fi
}
